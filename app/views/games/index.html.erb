<div style="max-width: 1200px; margin: 0 auto; padding: 20px;">
  <h1>Hideaway Sportsbook</h1>
  <h2>Upcoming Games</h2>

  <% @games.each do |game| %>
    <div style="border: 1px solid #ddd; padding: 20px; margin-bottom: 20px; border-radius: 8px;">
      <!-- Game Header -->
      <div style="margin-bottom: 15px;">
        <h3 style="margin: 0;">
          <%= game.away_team.city %> <%= game.away_team.name %>
          @
          <%= game.home_team.city %> <%= game.home_team.name %>
        </h3>
        <p style="color: #666; margin: 5px 0;">
          <%= game.sport.upcase %> |
          <%= game.game_time.strftime("%A, %B %d at %I:%M %p") %> |
          Status: <%= game.status.capitalize %>
        </p>
      </div>

      <!-- Betting Lines -->
      <h4>Betting Lines:</h4>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">

        <% game.betting_lines.each do |line| %>
          <div style="border: 1px solid #eee; padding: 10px; border-radius: 4px; background: #f9f9f9;">
            <strong style="display: block; margin-bottom: 8px; text-transform: uppercase;">
              <%= line.line_type.gsub('_', ' ') %>
            </strong>

            <% if line.line_type == 'moneyline' %>
              <div>
                <%= game.home_team.abbreviation %>: <%= line.home_odds > 0 ? "+#{line.home_odds.to_i}" : line.home_odds.to_i %>
              </div>
              <div>
                <%= game.away_team.abbreviation %>: <%= line.away_odds > 0 ? "+#{line.away_odds.to_i}" : line.away_odds.to_i %>
              </div>

            <% elsif line.line_type == 'spread' %>
              <div>
                <%= game.home_team.abbreviation %> <%= line.spread > 0 ? "+#{line.spread}" : line.spread %>
                (<%= line.home_odds.to_i %>)
              </div>
              <div>
                <%= game.away_team.abbreviation %> <%= line.spread < 0 ? "+#{-line.spread}" : -line.spread %>
                (<%= line.away_odds.to_i %>)
              </div>

            <% elsif line.line_type == 'over_under' %>
              <div>Over <%= line.total %>: <%= line.over_odds.to_i %></div>
              <div>Under <%= line.total %>: <%= line.under_odds.to_i %></div>
            <% end %>
          </div>
        <% end %>

      </div>
    </div>
  <% end %>

  <% if @games.empty? %>
    <p style="color: #666; font-style: italic;">No games scheduled at this time.</p>
  <% end %>
</div>
