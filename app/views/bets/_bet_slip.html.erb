<!-- Bet Slip Modal -->
<div id="bet-slip-modal"
     class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden"
     data-controller="bet-slip"
     data-action="click->bet-slip#closeOnBackdrop">

  <div class="bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6"
       data-bet-slip-target="container"
       data-action="click->bet-slip#stopPropagation">

    <!-- Header -->
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-xl font-bold text-gray-800">Place Bet</h3>
      <button class="text-gray-500 hover:text-gray-700"
              data-action="click->bet-slip#close">
        <span class="text-2xl">&times;</span>
      </button>
    </div>

    <!-- Bet Details -->
    <div class="bg-gray-50 rounded-lg p-4 mb-4">
      <div class="text-sm text-gray-600 mb-2">
        <span data-bet-slip-target="gameInfo"></span>
      </div>
      <div class="text-lg font-semibold text-gray-800 mb-1">
        <span data-bet-slip-target="betDescription"></span>
      </div>
      <div class="text-sm">
        Odds: <span class="font-semibold" data-bet-slip-target="odds"></span>
      </div>
    </div>

    <!-- Bet Amount Form -->
    <form data-action="submit->bet-slip#submitBet"
          data-bet-slip-target="form">

      <div class="mb-4">
        <label class="block text-sm font-medium text-gray-700 mb-2">
          Bet Amount
        </label>
        <div class="relative">
          <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500">$</span>
          <input type="number"
                 step="0.01"
                 min="5"
                 placeholder="Enter amount"
                 class="w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"
                 data-bet-slip-target="amountInput"
                 data-action="input->bet-slip#calculatePayout"
                 required>
        </div>
        <p class="text-xs text-gray-500 mt-1">Minimum bet: $5.00</p>
      </div>

      <!-- Potential Payout Display -->
      <div class="bg-green-50 border border-green-200 rounded-lg p-3 mb-4">
        <div class="flex justify-between items-center">
          <span class="text-sm text-gray-700">Potential Payout:</span>
          <span class="text-lg font-bold text-green-700" data-bet-slip-target="potentialPayout">$0.00</span>
        </div>
        <div class="flex justify-between items-center text-xs text-gray-600 mt-1">
          <span>Potential Profit:</span>
          <span data-bet-slip-target="potentialProfit">$0.00</span>
        </div>
      </div>

      <!-- Error Message -->
      <div class="hidden bg-red-50 border border-red-200 rounded-lg p-3 mb-4"
           data-bet-slip-target="errorMessage">
        <p class="text-sm text-red-700"></p>
      </div>

      <!-- Action Buttons -->
      <div class="flex gap-3">
        <button type="button"
                class="flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"
                data-action="click->bet-slip#close">
          Cancel
        </button>
        <button type="submit"
                class="flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold"
                data-bet-slip-target="submitButton">
          Place Bet
        </button>
      </div>
    </form>

    <!-- Loading State -->
    <div class="hidden absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center rounded-lg"
         data-bet-slip-target="loading">
      <div class="text-center">
        <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"></div>
        <p class="text-sm text-gray-600 mt-2">Placing bet...</p>
      </div>
    </div>

  </div>
</div>
